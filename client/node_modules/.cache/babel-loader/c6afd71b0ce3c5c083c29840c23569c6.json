{"ast":null,"code":"import _classCallCheck from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _applyDecoratedDescriptor from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\n\nvar _class;\n\nimport { Model } from '../lib';\nimport { action, computed } from 'mobx';\nimport moment from 'moment';\nimport startCase from 'lodash/startCase';\nvar Discount = (_class =\n/*#__PURE__*/\nfunction (_Model) {\n  _inherits(Discount, _Model);\n\n  function Discount(attributes, store) {\n    _classCallCheck(this, Discount);\n\n    var defaultAttributes = {\n      name: '',\n      status: '',\n      type: '',\n      discount: 0,\n      startDate: '',\n      endDate: '',\n      services: []\n    };\n    var attrs = Object.assign(defaultAttributes, attributes);\n    return _possibleConstructorReturn(this, _getPrototypeOf(Discount).call(this, attrs, store));\n  }\n\n  _createClass(Discount, [{\n    key: \"activate\",\n    value: function activate() {\n      this.status = 'ACTIVE';\n      return this.clean().save();\n    }\n  }, {\n    key: \"deactivate\",\n    value: function deactivate() {\n      this.status = 'INACTIVE';\n      return this.clean().save();\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      var cleanServices = [];\n      this.services.forEach(function (service) {\n        if (service instanceof Object) {\n          cleanServices.push(service.id);\n        } else {\n          cleanServices.push(service);\n        }\n      });\n      this.services = cleanServices;\n      return this;\n    }\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      return this.status == 'ACTIVE';\n    }\n  }, {\n    key: \"cookedStartingDate\",\n    get: function get() {\n      return moment(this.startDate).format('DD/MM/YYYY');\n    }\n  }, {\n    key: \"cookedEndingDate\",\n    get: function get() {\n      return moment(this.endDate).format('DD/MM/YYYY');\n    }\n  }, {\n    key: \"rawStartingDate\",\n    get: function get() {\n      if (this.startDate != '') {\n        return moment(this.startDate);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"rawEndingDate\",\n    get: function get() {\n      if (this.endDate != '') {\n        return moment(this.endDate);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"discountServicesIds\",\n    get: function get() {\n      var ret = [];\n      this.services.map(function (service) {\n        return ret.push(service.id);\n      });\n      return ret;\n    }\n  }, {\n    key: \"discountedServices\",\n    get: function get() {\n      var ret = [];\n      this.services.map(function (service) {\n        return ret.push(startCase(service.name));\n      });\n      return ret;\n    }\n  }]);\n\n  return Discount;\n}(Model), (_applyDecoratedDescriptor(_class.prototype, \"isActive\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"isActive\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"cookedStartingDate\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"cookedStartingDate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"cookedEndingDate\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"cookedEndingDate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"rawStartingDate\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"rawStartingDate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"rawEndingDate\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"rawEndingDate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"discountServicesIds\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"discountServicesIds\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"discountedServices\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"discountedServices\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"activate\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"activate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"deactivate\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"deactivate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"clean\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"clean\"), _class.prototype)), _class);\nexport { Discount as default };","map":{"version":3,"sources":["/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/src/models/Discount.js"],"names":["Model","action","computed","moment","startCase","Discount","attributes","store","defaultAttributes","name","status","type","discount","startDate","endDate","services","attrs","Object","assign","clean","save","cleanServices","forEach","service","push","id","format","ret","map"],"mappings":";;;;;;;;;AAAA,SAASA,KAAT,QAAsB,QAAtB;AACA,SACEC,MADF,EAEEC,QAFF,QAGO,MAHP;AAKA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAOC,SAAP,MAAsB,kBAAtB;IAEqBC,Q;;;;;AACnB,oBAAaC,UAAb,EAAyBC,KAAzB,EAAiC;AAAA;;AAE/B,QAAIC,iBAAiB,GAAG;AACtBC,MAAAA,IAAI,EAAE,EADgB;AAEtBC,MAAAA,MAAM,EAAE,EAFc;AAGtBC,MAAAA,IAAI,EAAE,EAHgB;AAItBC,MAAAA,QAAQ,EAAE,CAJY;AAKtBC,MAAAA,SAAS,EAAE,EALW;AAMtBC,MAAAA,OAAO,EAAE,EANa;AAOtBC,MAAAA,QAAQ,EAAE;AAPY,KAAxB;AAUA,QAAIC,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAeV,iBAAf,EAAkCF,UAAlC,CAAZ;AAZ+B,iFAczBU,KAdyB,EAclBT,KAdkB;AAehC;;;;+BAgDU;AACT,WAAKG,MAAL,GAAc,QAAd;AACA,aAAO,KAAKS,KAAL,GAAaC,IAAb,EAAP;AACD;;;iCAGY;AACX,WAAKV,MAAL,GAAc,UAAd;AACA,aAAO,KAAKS,KAAL,GAAaC,IAAb,EAAP;AACD;;;4BAGO;AACN,UAAMC,aAAa,GAAG,EAAtB;AACA,WAAKN,QAAL,CAAcO,OAAd,CAAuB,UAAAC,OAAO,EAAI;AAChC,YAAIA,OAAO,YAAYN,MAAvB,EAA+B;AAC7BI,UAAAA,aAAa,CAACG,IAAd,CAAmBD,OAAO,CAACE,EAA3B;AACD,SAFD,MAGK;AACHJ,UAAAA,aAAa,CAACG,IAAd,CAAmBD,OAAnB;AACD;AACF,OAPD;AAQA,WAAKR,QAAL,GAAgBM,aAAhB;AACA,aAAO,IAAP;AACD;;;wBArEc;AACb,aAAO,KAAKX,MAAL,IAAe,QAAtB;AACD;;;wBAGuB;AACtB,aAAOP,MAAM,CAAC,KAAKU,SAAN,CAAN,CAAuBa,MAAvB,CAA8B,YAA9B,CAAP;AACD;;;wBAGqB;AACpB,aAAOvB,MAAM,CAAC,KAAKW,OAAN,CAAN,CAAqBY,MAArB,CAA4B,YAA5B,CAAP;AACD;;;wBAGoB;AACnB,UAAG,KAAKb,SAAL,IAAkB,EAArB,EAAwB;AACtB,eAAOV,MAAM,CAAC,KAAKU,SAAN,CAAb;AACD;;AACD,aAAO,IAAP;AACD;;;wBAGkB;AACjB,UAAG,KAAKC,OAAL,IAAgB,EAAnB,EAAsB;AACpB,eAAOX,MAAM,CAAC,KAAKW,OAAN,CAAb;AACD;;AACD,aAAO,IAAP;AACD;;;wBAGyB;AACxB,UAAMa,GAAG,GAAG,EAAZ;AACA,WAAKZ,QAAL,CAAca,GAAd,CAAmB,UAAAL,OAAO;AAAA,eAAKI,GAAG,CAACH,IAAJ,CAASD,OAAO,CAACE,EAAjB,CAAL;AAAA,OAA1B;AACA,aAAOE,GAAP;AACD;;;wBAGwB;AACvB,UAAMA,GAAG,GAAG,EAAZ;AACA,WAAKZ,QAAL,CAAca,GAAd,CAAmB,UAAAL,OAAO;AAAA,eAAKI,GAAG,CAACH,IAAJ,CAASpB,SAAS,CAACmB,OAAO,CAACd,IAAT,CAAlB,CAAL;AAAA,OAA1B;AACA,aAAOkB,GAAP;AACD;;;;EA7DmC3B,K,6DAkBnCE,Q,wJAKAA,Q,gKAKAA,Q,6JAKAA,Q,0JAQAA,Q,8JAQAA,Q,mKAOAA,Q,wJAOAD,M,gJAMAA,M,6IAMAA,M;SA3EkBI,Q","sourcesContent":["import { Model } from '../lib';\nimport {\n  action,\n  computed,\n} from 'mobx'\n\nimport moment from 'moment';\n\nimport startCase from 'lodash/startCase';\n\nexport default class Discount extends Model {\n  constructor( attributes, store ) {\n\n    let defaultAttributes = {\n      name: '',\n      status: '',\n      type: '',\n      discount: 0,\n      startDate: '',\n      endDate: '',\n      services: []\n    };\n\n    let attrs = Object.assign( defaultAttributes, attributes );\n\n    super(attrs, store);\n  }\n\n  @computed\n  get isActive() {\n    return this.status == 'ACTIVE';\n  }\n\n  @computed\n  get cookedStartingDate(){\n    return moment(this.startDate).format('DD/MM/YYYY')\n  }\n\n  @computed\n  get cookedEndingDate(){\n    return moment(this.endDate).format('DD/MM/YYYY')\n  }\n\n  @computed\n  get rawStartingDate(){\n    if(this.startDate != ''){\n      return moment(this.startDate)\n    }\n    return null\n  }\n\n  @computed\n  get rawEndingDate(){\n    if(this.endDate != ''){\n      return moment(this.endDate)\n    }\n    return null\n  }\n\n  @computed\n  get discountServicesIds() {\n    const ret = [];\n    this.services.map( service => (ret.push(service.id)))\n    return ret;\n  }\n\n  @computed\n  get discountedServices() {\n    const ret = [];\n    this.services.map( service => (ret.push(startCase(service.name))))\n    return ret;\n  }\n\n  @action\n  activate() {\n    this.status = 'ACTIVE';\n    return this.clean().save();\n  }\n\n  @action\n  deactivate() {\n    this.status = 'INACTIVE';\n    return this.clean().save();\n  }\n\n  @action\n  clean() {\n    const cleanServices = [];\n    this.services.forEach( service => {\n      if (service instanceof Object) {\n        cleanServices.push(service.id);\n      }\n      else {\n        cleanServices.push(service);\n      }\n    });\n    this.services = cleanServices;\n    return this;\n  }\n}"]},"metadata":{},"sourceType":"module"}
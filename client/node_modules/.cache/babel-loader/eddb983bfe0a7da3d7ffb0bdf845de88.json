{"ast":null,"code":"import _classCallCheck from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _applyDecoratedDescriptor from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\n\nvar _class;\n\nimport { Model } from '../lib';\nimport { action, computed } from 'mobx';\nimport startCase from 'lodash/startCase';\nimport uniq from 'lodash/uniq';\nimport { Service, User, Professional } from '../models';\nimport { ServicesStore, UsersStore, ProfessionalsStore } from '../stores';\nvar Branch = (_class =\n/*#__PURE__*/\nfunction (_Model) {\n  _inherits(Branch, _Model);\n\n  function Branch(attributes, store) {\n    _classCallCheck(this, Branch);\n\n    var defaultAttributes = {\n      'location': '',\n      'street_number': '',\n      'street_name': '',\n      'name': '',\n      'status': 'ACTIVE',\n      'professionals': [],\n      'users': []\n    };\n    var attrs = Object.assign(defaultAttributes, attributes);\n    return _possibleConstructorReturn(this, _getPrototypeOf(Branch).call(this, attrs, store));\n  }\n\n  _createClass(Branch, [{\n    key: \"afterSetData\",\n    value: function afterSetData() {\n      if (this.professionals) {\n        var modeledProfessionals = [];\n        this.professionals.forEach(function (professional) {\n          modeledProfessionals.push(new Professional(professional, ProfessionalsStore));\n        });\n        this.professionals = modeledProfessionals;\n      }\n\n      if (this.users) {\n        var modeledUsers = [];\n        this.users.forEach(function (user) {\n          modeledUsers.push(new User(user, UsersStore));\n        });\n        this.users = modeledUsers;\n      }\n    }\n  }, {\n    key: \"cookedStatus\",\n    get: function get() {\n      var statuses = {\n        'ACTIVE': 'Activo',\n        'INACTIVE': 'Inactivo'\n      };\n      return statuses[this.status.name || this.status];\n    }\n  }, {\n    key: \"cookedAddress\",\n    get: function get() {\n      return \"\".concat(startCase(this.street_name), \" \").concat(this.street_number, \", \").concat(startCase(this.location));\n    }\n  }, {\n    key: \"allServices\",\n    get: function get() {\n      var services = [];\n      this.professionals.forEach(function (professional) {\n        professional.services.forEach(function (service) {\n          services.push(new Service(service, ServicesStore));\n        });\n      });\n      var a = uniq(services, 'id');\n      debugger;\n      return a;\n    }\n  }]);\n\n  return Branch;\n}(Model), (_applyDecoratedDescriptor(_class.prototype, \"cookedStatus\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"cookedStatus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"cookedAddress\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"cookedAddress\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"allServices\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"allServices\"), _class.prototype)), _class);\nexport { Branch as default };","map":{"version":3,"sources":["/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/src/models/Branch.js"],"names":["Model","action","computed","startCase","uniq","Service","User","Professional","ServicesStore","UsersStore","ProfessionalsStore","Branch","attributes","store","defaultAttributes","attrs","Object","assign","professionals","modeledProfessionals","forEach","professional","push","users","modeledUsers","user","statuses","status","name","street_name","street_number","location","services","service","a"],"mappings":";;;;;;;;;AAAA,SAASA,KAAT,QAAsB,QAAtB;AACA,SACEC,MADF,EAEEC,QAFF,QAGO,MAHP;AAKA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AAEA,SAASC,OAAT,EAAkBC,IAAlB,EAAwBC,YAAxB,QAA4C,WAA5C;AACA,SAASC,aAAT,EAAwBC,UAAxB,EAAoCC,kBAApC,QAA8D,WAA9D;IAEqBC,M;;;;;AACnB,kBAAaC,UAAb,EAAyBC,KAAzB,EAAiC;AAAA;;AAE/B,QAAIC,iBAAiB,GAAG;AACtB,kBAAY,EADU;AAEtB,uBAAiB,EAFK;AAGtB,qBAAe,EAHO;AAItB,cAAQ,EAJc;AAKtB,gBAAU,QALY;AAMtB,uBAAiB,EANK;AAOtB,eAAS;AAPa,KAAxB;AAUA,QAAIC,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAeH,iBAAf,EAAkCF,UAAlC,CAAZ;AAZ+B,+EAczBG,KAdyB,EAclBF,KAdkB;AAehC;;;;mCAEc;AACb,UAAI,KAAKK,aAAT,EAAwB;AACtB,YAAMC,oBAAoB,GAAG,EAA7B;AACA,aAAKD,aAAL,CAAmBE,OAAnB,CAA4B,UAAAC,YAAY,EAAI;AAC1CF,UAAAA,oBAAoB,CAACG,IAArB,CAA0B,IAAIf,YAAJ,CAAiBc,YAAjB,EAA+BX,kBAA/B,CAA1B;AACD,SAFD;AAGA,aAAKQ,aAAL,GAAqBC,oBAArB;AACD;;AACD,UAAI,KAAKI,KAAT,EAAgB;AACd,YAAMC,YAAY,GAAG,EAArB;AACA,aAAKD,KAAL,CAAWH,OAAX,CAAoB,UAAAK,IAAI,EAAI;AAC1BD,UAAAA,YAAY,CAACF,IAAb,CAAkB,IAAIhB,IAAJ,CAASmB,IAAT,EAAehB,UAAf,CAAlB;AACD,SAFD;AAGA,aAAKc,KAAL,GAAaC,YAAb;AACD;AACF;;;wBAGkB;AACjB,UAAME,QAAQ,GAAG;AACf,kBAAU,QADK;AAEf,oBAAY;AAFG,OAAjB;AAIA,aAAOA,QAAQ,CAAC,KAAKC,MAAL,CAAYC,IAAZ,IAAoB,KAAKD,MAA1B,CAAf;AACD;;;wBAGmB;AAClB,uBAAWxB,SAAS,CAAC,KAAK0B,WAAN,CAApB,cAA4C,KAAKC,aAAjD,eAAqE3B,SAAS,CAAC,KAAK4B,QAAN,CAA9E;AACD;;;wBAGiB;AAChB,UAAMC,QAAQ,GAAG,EAAjB;AACA,WAAKd,aAAL,CAAmBE,OAAnB,CAA4B,UAAAC,YAAY,EAAI;AAC1CA,QAAAA,YAAY,CAACW,QAAb,CAAsBZ,OAAtB,CAA+B,UAAAa,OAAO,EAAI;AACxCD,UAAAA,QAAQ,CAACV,IAAT,CAAc,IAAIjB,OAAJ,CAAY4B,OAAZ,EAAqBzB,aAArB,CAAd;AACD,SAFD;AAGD,OAJD;AAKA,UAAI0B,CAAC,GAAG9B,IAAI,CAAC4B,QAAD,EAAW,IAAX,CAAZ;AACA;AACA,aAAOE,CAAP;AACD;;;;EA5DiClC,K,iEAmCjCE,Q,uJASAA,Q,sJAKAA,Q;SAjDkBS,M","sourcesContent":["import { Model } from '../lib';\nimport {\n  action,\n  computed,\n} from 'mobx'\n\nimport startCase from 'lodash/startCase';\nimport uniq from 'lodash/uniq'\n\nimport { Service, User, Professional } from '../models';\nimport { ServicesStore, UsersStore, ProfessionalsStore } from '../stores';\n\nexport default class Branch extends Model {\n  constructor( attributes, store ) {\n\n    let defaultAttributes = {\n      'location': '',\n      'street_number': '',\n      'street_name': '',\n      'name': '',\n      'status': 'ACTIVE',\n      'professionals': [],\n      'users': [],\n    };\n\n    let attrs = Object.assign( defaultAttributes, attributes );\n\n    super(attrs, store);\n  }\n\n  afterSetData() {\n    if (this.professionals) {\n      const modeledProfessionals = [];\n      this.professionals.forEach( professional => {\n        modeledProfessionals.push(new Professional(professional, ProfessionalsStore))\n      });\n      this.professionals = modeledProfessionals;\n    }\n    if (this.users) {\n      const modeledUsers = [];\n      this.users.forEach( user => {\n        modeledUsers.push(new User(user, UsersStore));\n      });\n      this.users = modeledUsers;\n    }\n  }\n\n  @computed\n  get cookedStatus() {\n    const statuses = {\n      'ACTIVE': 'Activo',\n      'INACTIVE': 'Inactivo'\n    }\n    return statuses[this.status.name || this.status];\n  }\n\n  @computed\n  get cookedAddress() {\n    return `${ startCase(this.street_name) } ${ this.street_number }, ${ startCase(this.location) }`\n  }\n\n  @computed\n  get allServices() {\n    const services = [];\n    this.professionals.forEach( professional => {\n      professional.services.forEach( service => {\n        services.push(new Service(service, ServicesStore));\n      });\n    });\n    var a = uniq(services, 'id')\n    debugger\n    return a;\n  }\n}"]},"metadata":{},"sourceType":"module"}
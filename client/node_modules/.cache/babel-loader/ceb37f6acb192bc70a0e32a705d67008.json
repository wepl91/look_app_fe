{"ast":null,"code":"import _classCallCheck from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _applyDecoratedDescriptor from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\n\nvar _class;\n\nimport { Model } from '../lib';\nimport { action, computed } from 'mobx';\nimport startCase from 'lodash/startCase';\nimport { Branch } from '../models';\nimport { BranchesStore } from '../stores';\nvar User = (_class =\n/*#__PURE__*/\nfunction (_Model) {\n  _inherits(User, _Model);\n\n  function User(attributes, store) {\n    _classCallCheck(this, User);\n\n    var defaultAttributes = {\n      username: '',\n      email: '',\n      roles: [],\n      name: '',\n      lastName: '',\n      status: null,\n      branch: {}\n    };\n    var attrs = Object.assign(defaultAttributes, attributes);\n    return _possibleConstructorReturn(this, _getPrototypeOf(User).call(this, attrs, store));\n  }\n\n  _createClass(User, [{\n    key: \"afterSetData\",\n    value: function afterSetData() {\n      if (this.branch) {\n        this.branch = new Branch(this.branch, BranchesStore);\n      }\n    }\n  }, {\n    key: \"activate\",\n    value: function activate() {\n      this.status = 'ACTIVE';\n      return this.save();\n    }\n  }, {\n    key: \"deactivate\",\n    value: function deactivate() {\n      this.status = 'INACTIVE';\n      return this.save();\n    }\n  }, {\n    key: \"clean\",\n    value: function clean() {\n      if (this.branch instanceof Object) {\n        this.branch = this.branch.id;\n      }\n\n      if (this.status instanceof Object) {\n        this.status = this.status.name;\n      }\n\n      var cleanRoles = [];\n      this.roles.forEach(function (rol) {\n        if (rol instanceof Object) {\n          cleanRoles.push(rol.id);\n        }\n      });\n      return this;\n    }\n  }, {\n    key: \"cookedBranchId\",\n    get: function get() {\n      return this.branch instanceof Object ? this.branch.id : this.branch;\n    }\n  }, {\n    key: \"cookedName\",\n    get: function get() {\n      return startCase(this.name);\n    }\n  }, {\n    key: \"cookedLastName\",\n    get: function get() {\n      return startCase(this.lastName);\n    }\n  }, {\n    key: \"cookedFullName\",\n    get: function get() {\n      if (!this.name && !this.lastName) {\n        return null;\n      }\n\n      return \"\".concat(startCase(this.name) || '', \" \").concat(startCase(this.lastName) || '');\n    }\n  }, {\n    key: \"userRole\",\n    get: function get() {\n      return this.roles[0] && this.roles[0].name;\n    }\n  }, {\n    key: \"roleID\",\n    get: function get() {\n      return this.roles[0] && this.roles[0].id || this.roles[0];\n    }\n  }, {\n    key: \"isActive\",\n    get: function get() {\n      return this.status.name == 'ACTIVE';\n    }\n  }]);\n\n  return User;\n}(Model), (_applyDecoratedDescriptor(_class.prototype, \"cookedBranchId\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"cookedBranchId\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"cookedName\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"cookedName\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"cookedLastName\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"cookedLastName\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"cookedFullName\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"cookedFullName\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"userRole\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"userRole\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"roleID\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"roleID\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"isActive\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"isActive\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"activate\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"activate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"deactivate\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"deactivate\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"clean\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"clean\"), _class.prototype)), _class);\nexport { User as default };","map":{"version":3,"sources":["/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/client/src/models/User.js"],"names":["Model","action","computed","startCase","Branch","BranchesStore","User","attributes","store","defaultAttributes","username","email","roles","name","lastName","status","branch","attrs","Object","assign","save","id","cleanRoles","forEach","rol","push"],"mappings":";;;;;;;;;AAAA,SAASA,KAAT,QAAsB,QAAtB;AAEA,SACEC,MADF,EAEEC,QAFF,QAGO,MAHP;AAKA,OAAOC,SAAP,MAAsB,kBAAtB;AAEA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,aAAT,QAA8B,WAA9B;IACqBC,I;;;;;AACnB,gBAAaC,UAAb,EAAyBC,KAAzB,EAAiC;AAAA;;AAE/B,QAAIC,iBAAiB,GAAG;AACtBC,MAAAA,QAAQ,EAAE,EADY;AAEtBC,MAAAA,KAAK,EAAE,EAFe;AAGtBC,MAAAA,KAAK,EAAE,EAHe;AAItBC,MAAAA,IAAI,EAAE,EAJgB;AAKtBC,MAAAA,QAAQ,EAAE,EALY;AAMtBC,MAAAA,MAAM,EAAE,IANc;AAOtBC,MAAAA,MAAM,EAAE;AAPc,KAAxB;AAUA,QAAIC,KAAK,GAAGC,MAAM,CAACC,MAAP,CAAeV,iBAAf,EAAkCF,UAAlC,CAAZ;AAZ+B,6EAczBU,KAdyB,EAclBT,KAdkB;AAehC;;;;mCACc;AACb,UAAI,KAAKQ,MAAT,EAAiB;AACf,aAAKA,MAAL,GAAc,IAAIZ,MAAJ,CAAW,KAAKY,MAAhB,EAAwBX,aAAxB,CAAd;AACD;AACF;;;+BAyCU;AACT,WAAKU,MAAL,GAAc,QAAd;AACA,aAAO,KAAKK,IAAL,EAAP;AACD;;;iCAGY;AACX,WAAKL,MAAL,GAAc,UAAd;AACA,aAAO,KAAKK,IAAL,EAAP;AACD;;;4BAGO;AACN,UAAI,KAAKJ,MAAL,YAAuBE,MAA3B,EAAmC;AACjC,aAAKF,MAAL,GAAc,KAAKA,MAAL,CAAYK,EAA1B;AACD;;AACD,UAAI,KAAKN,MAAL,YAAuBG,MAA3B,EAAmC;AACjC,aAAKH,MAAL,GAAc,KAAKA,MAAL,CAAYF,IAA1B;AACD;;AACD,UAAMS,UAAU,GAAG,EAAnB;AACA,WAAKV,KAAL,CAAWW,OAAX,CAAoB,UAAAC,GAAG,EAAI;AACzB,YAAIA,GAAG,YAAYN,MAAnB,EAA2B;AACzBI,UAAAA,UAAU,CAACG,IAAX,CAAgBD,GAAG,CAACH,EAApB;AACD;AACF,OAJD;AAMA,aAAO,IAAP;AACD;;;wBAjEoB;AACnB,aAAO,KAAKL,MAAL,YAAuBE,MAAvB,GAAgC,KAAKF,MAAL,CAAYK,EAA5C,GAAiD,KAAKL,MAA7D;AACD;;;wBAGgB;AACf,aAAOb,SAAS,CAAC,KAAKU,IAAN,CAAhB;AACD;;;wBAGoB;AACnB,aAAOV,SAAS,CAAC,KAAKW,QAAN,CAAhB;AACD;;;wBAGoB;AACnB,UAAI,CAAC,KAAKD,IAAN,IAAc,CAAC,KAAKC,QAAxB,EAAkC;AAChC,eAAO,IAAP;AACD;;AACD,uBAAWX,SAAS,CAAC,KAAKU,IAAN,CAAT,IAAwB,EAAnC,cAA2CV,SAAS,CAAC,KAAKW,QAAN,CAAT,IAA4B,EAAvE;AACD;;;wBAGc;AACb,aAAO,KAAKF,KAAL,CAAW,CAAX,KAAiB,KAAKA,KAAL,CAAW,CAAX,EAAcC,IAAtC;AACD;;;wBAGY;AACX,aAAQ,KAAKD,KAAL,CAAW,CAAX,KAAiB,KAAKA,KAAL,CAAW,CAAX,EAAcS,EAAhC,IAAuC,KAAKT,KAAL,CAAW,CAAX,CAA9C;AACD;;;wBAGc;AACb,aAAO,KAAKG,MAAL,CAAYF,IAAZ,IAAoB,QAA3B;AACD;;;;EA3D+Bb,K,mEAuB/BE,Q,sJAKAA,Q,sJAKAA,Q,0JAKAA,Q,oJAQAA,Q,4IAKAA,Q,4IAKAA,Q,8IAKAD,M,gJAMAA,M,6IAMAA,M;SAzEkBK,I","sourcesContent":["import { Model } from '../lib';\n\nimport {\n  action,\n  computed,\n} from 'mobx'\n\nimport startCase from 'lodash/startCase';\n\nimport { Branch } from '../models';\nimport { BranchesStore } from '../stores';\nexport default class User extends Model {\n  constructor( attributes, store ) {\n\n    let defaultAttributes = {\n      username: '',\n      email: '',\n      roles: [],\n      name: '',\n      lastName: '',\n      status: null,\n      branch: {},\n    };\n\n    let attrs = Object.assign( defaultAttributes, attributes );\n\n    super(attrs, store);\n  }\n  afterSetData() {\n    if (this.branch) {\n      this.branch = new Branch(this.branch, BranchesStore);\n    }\n  }\n\n  @computed\n  get cookedBranchId() {\n    return this.branch instanceof Object ? this.branch.id : this.branch;\n  }\n\n  @computed\n  get cookedName() {\n    return startCase(this.name);\n  }\n\n  @computed\n  get cookedLastName() {\n    return startCase(this.lastName);\n  }\n\n  @computed\n  get cookedFullName() {\n    if (!this.name && !this.lastName) {\n      return null;\n    }\n    return `${ startCase(this.name) || '' } ${ startCase(this.lastName) || '' }`;\n  }\n\n  @computed\n  get userRole() {\n    return this.roles[0] && this.roles[0].name;\n  }\n\n  @computed\n  get roleID() {\n    return (this.roles[0] && this.roles[0].id) || this.roles[0];\n  }\n\n  @computed\n  get isActive() {\n    return this.status.name == 'ACTIVE';\n  }\n\n  @action\n  activate() {\n    this.status = 'ACTIVE';\n    return this.save();\n  }\n\n  @action\n  deactivate() {\n    this.status = 'INACTIVE';\n    return this.save();\n  }\n\n  @action\n  clean() {\n    if (this.branch instanceof Object) {\n      this.branch = this.branch.id;\n    }\n    if (this.status instanceof Object) {\n      this.status = this.status.name;\n    }\n    const cleanRoles = [];\n    this.roles.forEach( rol => {\n      if (rol instanceof Object) {\n        cleanRoles.push(rol.id);\n      }\n    });\n\n    return this;\n  }\n}"]},"metadata":{},"sourceType":"module"}
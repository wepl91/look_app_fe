{"ast":null,"code":"import _classCallCheck from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/src/components/Professionals/WorkingHoursSelector.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Columns, Column, Checkbox } from 'bloomer';\nimport { Select, Text } from 'shipnow-mercurio';\nimport moment from 'moment';\nimport { faChevronDown } from \"@fortawesome/free-solid-svg-icons\";\n\nvar WorkingHoursSelector =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(WorkingHoursSelector, _Component);\n\n  function WorkingHoursSelector(props) {\n    var _this;\n\n    _classCallCheck(this, WorkingHoursSelector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WorkingHoursSelector).call(this, props));\n    _this.state = {\n      startingDate: '',\n      finishingDate: '',\n      days: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(WorkingHoursSelector, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.defaultProfessional) {\n        this.setState({\n          startingDate: this.props.defaultProfessional.beginHour,\n          finishingDate: this.props.defaultProfessional.endHour,\n          days: this.props.defaultProfessional.rawWorkingDays\n        });\n      }\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(sender, value, name, valid) {\n      if (name == 'starting') {\n        this.setState({\n          startingDate: value\n        });\n      } else if (name == 'finishing') {\n        this.setState({\n          finishingDate: value\n        });\n      }\n    }\n  }, {\n    key: \"handleDays\",\n    value: function handleDays(received) {\n      var newArray = Array.from(this.state.days);\n\n      if (newArray.includes(received)) {\n        newArray = newArray.filter(function (item) {\n          return item !== received;\n        });\n      } else {\n        newArray.push(received);\n      }\n\n      this.setState({\n        days: newArray\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.days != prevState.days || this.state.startingDate != prevState.startingDate || this.state.finishingDate != prevState.finishingDate) {\n        this.props.onChange([this.state.days, this.state.startingDate, this.state.finishingDate]);\n      }\n    } //30 minutes intervals\n    // hoursBetweenDates(startDate, endDate) {\n    //   let dates = [];\n    //   let currDate = moment(startDate).startOf('minute').subtract(30, 'minutes');\n    //   let lastDate = moment(endDate).startOf('minute').add(30, 'minutes');\n    //   while(currDate.add(30, 'minutes').diff(lastDate, 'minutes') < 0) {\n    //       dates.push(currDate.clone().format('HH:mm'));\n    //   }\n    //   return dates;\n    // }\n    //1 hour intervals\n\n  }, {\n    key: \"hoursBetweenDates\",\n    value: function hoursBetweenDates(startDate, endDate) {\n      var hours = [];\n      var currDate = moment(startDate).startOf('minute').subtract(60, 'minutes');\n      var lastDate = moment(endDate).startOf('minute').add(60, 'minutes');\n\n      while (currDate.add(60, 'minutes').diff(lastDate, 'minutes') < 0) {\n        hours.push(currDate.clone().format('HH:mm'));\n      }\n\n      return hours;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var hourList = this.hoursBetweenDates(this.props.startingDate, this.props.finishingDate);\n      var daysList = this.props.days;\n      var translatedDays = {\n        'MONDAY': 'Lunes',\n        'TUESDAY': 'Martes',\n        'WEDNESDAY': 'Miércoles',\n        'THURSDAY': 'Jueves',\n        'FRIDAY': 'Viernes',\n        'SATURDAY': 'Sábado',\n        'SUNDAY': 'Domingo'\n      };\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Columns, {\n        className: \"is-gapless is-marginless\",\n        isCentered: true,\n        isVCentered: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Column, {\n        isSize: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, daysList.map(function (day) {\n        return React.createElement(Checkbox, {\n          className: \"pr-1 pb-2\",\n          name: \"day\",\n          isFullWidth: true,\n          defaultChecked: _this2.props.defaultProfessional && _this2.props.defaultProfessional.cookedWorkingDays.includes(translatedDays[day]),\n          onClick: function onClick() {\n            return _this2.handleDays(day);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(Text, {\n          className: \"pl-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, translatedDays[day]));\n      })), React.createElement(Column, {\n        isSize: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Select, {\n        placeholder: \"Entrada\",\n        className: \"is-fullwidth\",\n        borderless: true,\n        icon: faChevronDown,\n        value: this.state.startingDate,\n        name: \"starting\",\n        onChange: this.handleChange,\n        options: hourList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }), React.createElement(Select, {\n        placeholder: \"Salida\",\n        className: \"is-fullwidth\",\n        borderless: true,\n        icon: faChevronDown,\n        value: this.state.finishingDate,\n        name: \"finishing\",\n        onChange: this.handleChange,\n        options: hourList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return WorkingHoursSelector;\n}(Component);\n\nWorkingHoursSelector.PropTypes = {\n  startingDate: PropTypes.object,\n  finishingDate: PropTypes.object,\n  days: PropTypes.array,\n  defaultProfessional: PropTypes.object,\n  onChange: PropTypes.func,\n  validate: PropTypes.func\n};\nWorkingHoursSelector.defaultProps = {\n  startingDate: null,\n  finishingDate: null,\n  days: null,\n  onChange: null,\n  validate: null\n};\nexport default WorkingHoursSelector;","map":{"version":3,"sources":["/Users/wpereyra/Documents/Universidad/PP1/look_app_fe/src/components/Professionals/WorkingHoursSelector.jsx"],"names":["React","Component","PropTypes","Columns","Column","Checkbox","Select","Text","moment","faChevronDown","WorkingHoursSelector","props","state","startingDate","finishingDate","days","handleChange","bind","defaultProfessional","setState","beginHour","endHour","rawWorkingDays","sender","value","name","valid","received","newArray","Array","from","includes","filter","item","push","prevProps","prevState","onChange","startDate","endDate","hours","currDate","startOf","subtract","lastDate","add","diff","clone","format","hourList","hoursBetweenDates","daysList","translatedDays","map","day","cookedWorkingDays","handleDays","object","array","func","validate","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Columns,\n  Column,\n  Checkbox\n} from 'bloomer';\n\nimport {\n  Select,\n  Text\n} from 'shipnow-mercurio';\n\nimport moment from 'moment';\nimport { faChevronDown } from \"@fortawesome/free-solid-svg-icons\";\n\n \nclass WorkingHoursSelector extends Component {\n  constructor(props) {\n    super(props)\n  \n    this.state = {\n      startingDate: '',\n      finishingDate: '',\n      days: []\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount(){\n    if(this.props.defaultProfessional){\n      this.setState({\n        startingDate: this.props.defaultProfessional.beginHour,\n        finishingDate: this.props.defaultProfessional.endHour,\n        days: this.props.defaultProfessional.rawWorkingDays\n      })\n    }\n  }\n\n  handleChange( sender, value, name, valid ) {\n    if (name == 'starting') {\n      this.setState({\n        startingDate: value\n      })\n    }\n    else if (name == 'finishing') {\n      this.setState({\n        finishingDate: value\n      })\n    } \n  }\n\n  handleDays( received ) {\n      let newArray = Array.from(this.state.days)\n      if(newArray.includes(received)){\n        newArray = newArray.filter(item => item !== received)\n      }else{\n        newArray.push(received)\n      }\n      this.setState({\n        days: newArray,\n      });\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (this.state.days != prevState.days || this.state.startingDate != prevState.startingDate || this.state.finishingDate != prevState.finishingDate) {\n      this.props.onChange([this.state.days , this.state.startingDate, this.state.finishingDate]);\n    }\n  }\n\n  //30 minutes intervals\n  // hoursBetweenDates(startDate, endDate) {\n  //   let dates = [];\n  \n  //   let currDate = moment(startDate).startOf('minute').subtract(30, 'minutes');\n  //   let lastDate = moment(endDate).startOf('minute').add(30, 'minutes');\n  \n  //   while(currDate.add(30, 'minutes').diff(lastDate, 'minutes') < 0) {\n  //       dates.push(currDate.clone().format('HH:mm'));\n  //   }\n  \n  //   return dates;\n  // }\n\n  //1 hour intervals\n  hoursBetweenDates(startDate, endDate) {\n    let hours = [];\n  \n    let currDate = moment(startDate).startOf('minute').subtract(60, 'minutes');\n    let lastDate = moment(endDate).startOf('minute').add(60, 'minutes');\n  \n    while(currDate.add(60, 'minutes').diff(lastDate, 'minutes') < 0) {\n        hours.push(currDate.clone().format('HH:mm'));\n    }\n  \n    return hours;\n  }\n\n  render() {\n    let hourList = this.hoursBetweenDates(this.props.startingDate, this.props.finishingDate)\n    let daysList = this.props.days\n    const translatedDays = {\n      'MONDAY': 'Lunes',\n      'TUESDAY': 'Martes',\n      'WEDNESDAY': 'Miércoles',\n      'THURSDAY': 'Jueves',\n      'FRIDAY': 'Viernes',\n      'SATURDAY': 'Sábado',\n      'SUNDAY': 'Domingo'\n    }\n\n    return(\n      <React.Fragment>\n        <Columns className=\"is-gapless is-marginless\" isCentered isVCentered>\n          <Column isSize={6}>\n          {daysList.map(day => (\n                    <Checkbox className=\"pr-1 pb-2\" name=\"day\" isFullWidth defaultChecked={ this.props.defaultProfessional && this.props.defaultProfessional.cookedWorkingDays.includes(translatedDays[day])} onClick={() => this.handleDays(day)} ><Text className=\"pl-1\">{translatedDays[day]}</Text></Checkbox>\n                  ))}\n          </Column>\n          <Column isSize={6}>\n            <Select placeholder=\"Entrada\" \n                    className=\"is-fullwidth\"\n                    borderless icon={ faChevronDown } \n                    value = {this.state.startingDate}\n                    name=\"starting\" onChange={ this.handleChange } options={ hourList } />\n            <Select placeholder=\"Salida\"\n                    className=\"is-fullwidth\"\n                    borderless icon={ faChevronDown }\n                    value = {this.state.finishingDate}\n                    name=\"finishing\" onChange={ this.handleChange } options={ hourList } />\n          </Column>\n        </Columns>\n      </React.Fragment>)\n  }\n}\n\nWorkingHoursSelector.PropTypes = {\n  startingDate: PropTypes.object,\n  finishingDate: PropTypes.object,\n  days: PropTypes.array,\n  defaultProfessional: PropTypes.object,\n  onChange: PropTypes.func,\n  validate: PropTypes.func\n}\n\nWorkingHoursSelector.defaultProps = {\n  startingDate: null,\n  finishingDate: null,\n  days: null,\n  onChange: null,\n  validate: null\n}\n\nexport default WorkingHoursSelector;"]},"metadata":{},"sourceType":"module"}